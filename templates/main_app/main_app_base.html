{% extends 'base.html' %}

{% load staticfiles %}

{% block title %}{{page.title}}{% endblock %}

{% block head_block %}
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="description"          content="{{page.full_description}}">
	<meta property="og:url"           content="{{page.full_url}}" />
	<meta property="og:type"          content="website" />
	<meta property="og:title"         content="{{page.title}}" />
	<meta property="og:description"   content="{{page.description}}" />

	<link rel="canonical" type="text/css" href="{{page.full_url}}">

	{% block rel_block %}
		<link rel="shortcut icon" href="{% static "images/icons/blog-logo.png" %}" type="image/x-icon" />
		<link rel="icon" href="{% static "images/icons/blog-logo.png" %}" type="image/gif" />
	{% endblock %}

	<script type="text/javascript" async>
		// theofekfoundation.js
		function docReady(){getElemHeight(getElemClass("link"))!==getElemHeight(getElemId("navbar-top"))&&setElemStyle(getElemId("navbar-top"),"height",getElemHeight(getElemClass("link"))+"px"),contentWrapper=getElemId("content-wrapper"),resizeContentWrapper(),prt(),document.addEventListener("click",function(e){var t=e.target;if(hasClassElem(t,"path-link"))setSessionData("path",getElemData(t,"path")),redirect(getElemData(t,"url"));else if("logout-url"===t.id){var n=new XMLHttpRequest;n.open("POST",getElemData(t,"url"),!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&location.reload()}}})}function resizeContentWrapper(){var e=getWindowHeight(),t=getElemHeight(getElemId("navbar-top"));setElemStyle(contentWrapper,"top",t),setElemHeight(contentWrapper,e-t-1)}function prt(){"function"==typeof pageReady?pageReady():null===pageReady&&setTimeout(prt,50)}function fitParent(){for(var e=getElemsClass("fit-parent"),t=0,n=e[t];t<e.length;t++,n=e[t])for(var o=getElemHeight(n.parentElement),r=getElemWidth(n.parentElement);getElemHeight(n)>o||getElemWidth(n)>r;)setElemStyle(n,"fontSize",getElemProperty(n,"fontSize")-1+"px")}function vertAlign(){for(var e=getElemsClass("vert-align"),t=0,n=e[t];t<e.length;t++,n=e[t])setElemStyle(n,"marginTop",(getElemHeight(n.parentElement)-getElemHeight(n))/2+"px")}function windowAt(e){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)+getWindowHeight()-getElemHeight(getElemClass("footer"))>=e.offsetTop}function redirect(e){window.location.href=e}function setSessionData(e,t){try{setLocallyStored(e,t)}catch(n){}try{setCookie(e,t,36500)}catch(n){}}function getSessionData(e){return getLocallyStored(e)||getCookie(e)}function getLocallyStored(e){return JSON.parse(localStorage.getItem(e))}function setLocallyStored(e,t){localStorage.setItem(e,JSON.stringify(t))}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function snakeToCamel(e){return e.replace(/(\_\w)/g,function(e){return e[1].toUpperCase()})}function camelToSnake(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})}function convertToPython(e){for(key in e)"boolean"==typeof e[key]&&(e[key]=e[key]?"True":"False")}function convertFromPython(e){for(key in e)"string"==typeof e[key]&&("true"===e[key].toLowerCase()||"false"===e[key].toLowerCase())&&(e[key]="true"===e[key].toLowerCase())}function convertKeysObject(e,t){if(newObject={},t)for(key in e)newObject[camelToSnake(key)]=e[key];else{convertFromPython(e);for(key in e)newObject[snakeToCamel(key)]=e[key]}return newObject}function castType(e,t){switch(typeof t){case"undefined":throw new Error("Error converting to undefined.");case"string":return String(e);case"number":return Number(e);case"boolean":return"true"===String(e).toLowerCase();default:return e}}function getCookie(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var r=n[o].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t}function setCookie(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+r}function csrfSafeMethod(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function addXMLRequestCallback(e){var t,n;XMLHttpRequest.callbacks?XMLHttpRequest.callbacks.push(e):(XMLHttpRequest.callbacks=[e],t=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(){for(n=0;n<XMLHttpRequest.callbacks.length;n++)XMLHttpRequest.callbacks[n](this);t.apply(this,arguments)})}var contentWrapper;document.addEventListener("DOMContentLoaded",docReady),window.addEventListener("resize",function(){resizeContentWrapper(),"function"==typeof onResize&&onResize()});var pageReady=null,csrftoken=getSessionData("csrftoken");addXMLRequestCallback(function(e){e.setRequestHeader("X-CSRFToken",csrftoken)});

		// elemdata.js
		function getElemProperty(e,t,n){return void 0===n&&(n=null),t=camelToHtml(t),parseInt(window.getComputedStyle(e,n).getPropertyValue(t))||0}function getElemPaddingWidth(e){return getElemProperty(e,"padding-left")+getElemProperty(e,"padding-right")}function getElemPaddingHeight(e){return getElemProperty(e,"padding-top")+getElemProperty(e,"padding-bottom")}function getElemBorderWidth(e){return getElemProperty(e,"border-left")+getElemProperty(e,"border-right")}function getElemBorderHeight(e){return getElemProperty(e,"border-top")+getElemProperty(e,"border-bottom")}function getElemWidth(e){return parseInt(getElemData(e,"width"))||getElemProperty(e,"width")+getElemPaddingWidth(e)||e.width||getElemStyle(e,"width")}function getElemHeight(e){return parseInt(getElemData(e,"height"))||getElemProperty(e,"height")+getElemPaddingHeight(e)||e.height||getElemStyle(e,"height")}function getElemStyle(e,t){return e.style[t]||getComputedStyle(e)[t]}function getStyleOperator(e){return-1!==e.indexOf("px")?"px":-1!==e.indexOf("em")?"em":-1!==e.indexOf("pt")?"pt":-1!==e.indexOf("rem")?"rem":void 0}function setElemStyle(e,t,n){if("object"!=typeof t)"+="===(n+="").substring(0,2)?n=getElemProperty(e,t)+parseInt(n.substring(2))+getStyleOperator(n):"-="===n.substring(0,2)&&(n=getElemProperty(e,t)-parseInt(n.substring(2))+getStyleOperator(n)),e.style[t]=n;else for(key in t)setElemStyle(e,key,t[key])}function setElemWidth(e,t){setElemStyle(e,"width",parseInt(t)+"px")}function setElemHeight(e,t){setElemStyle(e,"height",parseInt(t)+"px")}function getWindowWidth(){return window.innerWidth}function getWindowHeight(){return window.innerHeight}function getElemId(e){return document.getElementById(e)}function getElemsQuery(e){return document.querySelectorAll(e)}function getElemQuery(e){return document.querySelector(e)}function getElemsClass(e){return document.getElementsByClassName(e)}function getElemsName(e){return document.getElementsByName(e)}function getElemName(e){return getElemsName(e)[0]}function getElemClass(e){return getElemsClass(e)[0]}function getElemsTagName(e){return document.getElementsByTagName(e)}function getElemTagName(e){return getElemsTagName(e)[0]}function getElemData(e,t){return e.dataset[t]}function setElemData(e,t,n){if("object"==typeof t)for(k in t)setElemData(e,k,t[k]);else e.dataset[t]=n}function addClassElem(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function removeClassElem(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function hasClassElem(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function setInputValue(e,t){var e=camelToHtml(e);"boolean"==typeof t?getElemName(e).checked=t:getElemName(e).value=t}function getInputValue(e){var t=getElemName(camelToHtml(e));return"checkbox"===t.type?t.checked:"number"===t.type?t.value%1==0?parseInt(t.value):parseFloat(t.value):t.value}function getElemSiblings(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}function centerVertically(e){var t=getElemStyle(e,"position");setElemStyle(e,"absolute"===t||"fixed"===t?"top":"margin-top",Math.floor(getElemHeight(e.parentElement)-getElemHeight(e))/2+"px")}function centerHorizontally(e){var t=getElemStyle(e,"position");setElemStyle(e,"left",(getElemWidth(e.parentElement)-getElemWidth(e))/2+"px")}function centerElem(e){centerVertically(e),centerHorizontally(e)}function camelToHtml(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function insertAfterElem(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function setElemText(e,t){e.innerHTML=t}function createElem(e){return document.createElement(e)}
	</script>


	<link rel="stylesheet" type="text/css" href="{% static "assets/styles/main_app.css" %}">

	<script src="https://apis.google.com/js/platform.js" async defer></script>

	{% block header_additions %}{% endblock %}

	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
	<script>
		WebFont.load({
			google: {
				families: ['Old+Standard+TT:400,400italic,700']
			}
		});
	</script>
{% endblock %}

{% block body_block %}

	<ul class="navbar" id="navbar-top">
		<li class="link"><a href="{% url 'Homepage' %}">Home</a></li>
		<li class="link"><a href="{% url 'Blog' '' %}">Blog</a></li>
		{% if not mobile or page.title == "We are Ofek" %}
		<li class="link"><a href="{% url 'Games' %}">Games</a></li>
		{% endif %}
		<ul style="float:right; list-style-type:none; padding-left: 0px;">
			{% block right_float_additions %}{% endblock %}
			<li style="padding-top: 4px;">
				<div class="social">
					{% if mobile %}
					<span class="google">
						<div class="g-plusone" data-size="standard" data-annotation="none"></div>
					</span>
					<span class="Facebook">
						<iframe src="https://www.facebook.com/plugins/like.php?href={{page.full_url}}&width=51&layout=button&action=like&size=small&show_faces=false&share=false&height=65&appId" width="51" height="21" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
					</span>
					{% else %}
					<span class="google">
						<div class="g-plusone" data-size="standard"></div>
					</span>
					<span class="Facebook">
						<iframe src="https://www.facebook.com/plugins/like.php?href={{page.full_url}}&amp;show_faces=false&amp;layout=button_count" scrolling="no" frameborder="0" style="height: 21px; width: 100px" allowTransparency="true"></iframe>
					</span>
					{% endif %}
				</div>
			</li>
			{% if not mobile %}
			{% if user.is_authenticated %}
				<li>
					<a id="navbar-username">{{user.username}}</a>
				</li>
				<li class="link"><a id="logout-url" data-url="{% url 'Logout' %}">Logout</a></li>
			{% else %}
				<li class="link"><a class="path-link" data-url="{% url 'Register' %}" data-path="{{page.pathname}}">Register</a></li>
				<li class="link"><a class="path-link" data-url="{% url 'Login' %}" data-path="{{page.pathname}}">Login</a></li>
			{% endif %}
			{% endif %}
		</ul>
	</ul>

	<div id="content-wrapper">
		{% block body_content %}{% endblock %}
	</div>

	<script type="text/javascript">
		{% if user.is_authenticated %}
		ga('set', 'userId', '{{ user.id }}'); // Set the user ID using signed-in user_id.
		{% endif %}
	</script>
</script>

{% endblock %}


